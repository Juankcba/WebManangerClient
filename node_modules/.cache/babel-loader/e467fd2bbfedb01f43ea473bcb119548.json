{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import TareaContext from'./tareaContext';import TareaReducer from'./tareaReducer';import{TAREAS_PROYECTO,AGREGAR_TAREA,VALIDAR_TAREA,ELIMINAR_TAREA,TAREA_ACTUAL,ACTUALIZAR_TAREA,LIMPIAR_TAREA}from'../../types';//import {v4 as uuid} from 'uuid';\nimport clienteAxios from'../../config/axios';var TareaState=function TareaState(props){var initialState={/*  tareas: [\r\n            {id:1, nombre: 'Director', estado: true, proyectoId: 1},\r\n            {id:2,nombre: 'Camara', estado: true, proyectoId: 2},\r\n            {id:3,nombre: 'Tom', estado: true, proyectoId: 3},\r\n            {id:4,nombre: 'Asistente', estado: false, proyectoId: 4}\r\n        ],*/tareasproyecto:[],errortarea:false,tareaseleccionada:null};//crear dispatch y state\nvar _useReducer=useReducer(TareaReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Crear las Funciones\n//Obtener las tareas de un proyecto\nvar obtenerTareas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(proyecto){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get('/api/tareas',{params:{proyecto:proyecto}});case 3:resultado=_context.sent;dispatch({type:TAREAS_PROYECTO,payload:resultado.data.tareas});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function obtenerTareas(_x){return _ref.apply(this,arguments);};}();//agregar una tarea al proyecto\nvar agregarTarea=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post('/api/tareas',tarea);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_TAREA,payload:resultado.data.tarea});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarTarea(_x2){return _ref2.apply(this,arguments);};}();//valida y muesta un error\nvar validarTarea=function validarTarea(){dispatch({type:VALIDAR_TAREA});};//eliminar tarea por id \nvar eliminarTarea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,proyecto){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return clienteAxios.delete(\"/api/tareas/\".concat(id),{params:{proyecto:proyecto}});case 3:dispatch({type:ELIMINAR_TAREA,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function eliminarTarea(_x3,_x4){return _ref3.apply(this,arguments);};}();//edita o modifica una tarea\nvar actualizarTarea=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.put(\"/api/tareas/\".concat(tarea._id),tarea);case 3:resultado=_context4.sent;dispatch({type:ACTUALIZAR_TAREA,payload:resultado.data.tarea});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function actualizarTarea(_x5){return _ref4.apply(this,arguments);};}();// extrae la tarea para edicion\nvar guardarTareaActual=function guardarTareaActual(tarea){dispatch({type:TAREA_ACTUAL,payload:tarea});};//elimina la tarea seleccionada\nvar limpiarTarea=function limpiarTarea(){dispatch({type:LIMPIAR_TAREA});};return/*#__PURE__*/React.createElement(TareaContext.Provider,{value:{//  tareas: state.tareas,\ntareasproyecto:state.tareasproyecto,errortarea:state.errortarea,tareaseleccionada:state.tareaseleccionada,obtenerTareas:obtenerTareas,agregarTarea:agregarTarea,validarTarea:validarTarea,eliminarTarea:eliminarTarea,guardarTareaActual:guardarTareaActual,actualizarTarea:actualizarTarea,limpiarTarea:limpiarTarea}},props.children);};export default TareaState;","map":{"version":3,"sources":["C:/Users/Asus/Documents/GitHub/IntercomBL/WebManangerServer/cliente/src/context/tareas/tareaState.js"],"names":["React","useReducer","TareaContext","TareaReducer","TAREAS_PROYECTO","AGREGAR_TAREA","VALIDAR_TAREA","ELIMINAR_TAREA","TAREA_ACTUAL","ACTUALIZAR_TAREA","LIMPIAR_TAREA","clienteAxios","TareaState","props","initialState","tareasproyecto","errortarea","tareaseleccionada","state","dispatch","obtenerTareas","proyecto","get","params","resultado","type","payload","data","tareas","console","log","agregarTarea","tarea","post","validarTarea","eliminarTarea","id","delete","actualizarTarea","put","_id","guardarTareaActual","limpiarTarea","children"],"mappings":"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","sourcesContent":["import React, {useReducer} from 'react';\r\nimport TareaContext from './tareaContext';\r\nimport TareaReducer from './tareaReducer';\r\nimport {TAREAS_PROYECTO,AGREGAR_TAREA,\r\n        VALIDAR_TAREA,ELIMINAR_TAREA,\r\n        TAREA_ACTUAL,\r\n        ACTUALIZAR_TAREA, LIMPIAR_TAREA\r\n\r\n} from '../../types';\r\n//import {v4 as uuid} from 'uuid';\r\nimport clienteAxios from '../../config/axios'\r\nconst TareaState = props => {\r\n\r\n    const initialState = {\r\n      /*  tareas: [\r\n            {id:1, nombre: 'Director', estado: true, proyectoId: 1},\r\n            {id:2,nombre: 'Camara', estado: true, proyectoId: 2},\r\n            {id:3,nombre: 'Tom', estado: true, proyectoId: 3},\r\n            {id:4,nombre: 'Asistente', estado: false, proyectoId: 4}\r\n        ],*/\r\n        tareasproyecto: [],\r\n        errortarea: false,\r\n        tareaseleccionada : null\r\n    }\r\n\r\n\r\n    //crear dispatch y state\r\n\r\n    const [state, dispatch] = useReducer(TareaReducer, initialState);\r\n    // Crear las Funciones\r\n\r\n    //Obtener las tareas de un proyecto\r\n\r\n    const obtenerTareas = async proyecto => {\r\n        try {\r\n            const resultado = await clienteAxios.get('/api/tareas',{params: {proyecto}});\r\n            dispatch({\r\n                type: TAREAS_PROYECTO,\r\n                payload: resultado.data.tareas\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    //agregar una tarea al proyecto\r\n    const agregarTarea = async tarea => {\r\n       // tarea.id = uuid();\r\n       try {\r\n           const resultado = await clienteAxios.post('/api/tareas',tarea);\r\n        dispatch({\r\n            type: AGREGAR_TAREA,\r\n            payload: resultado.data.tarea\r\n        })\r\n       } catch (error) {\r\n           console.log(error);\r\n       }\r\n        \r\n    }\r\n\r\n    //valida y muesta un error\r\n    const validarTarea = () => {\r\n        dispatch({\r\n            type: VALIDAR_TAREA\r\n        })\r\n    }\r\n    //eliminar tarea por id \r\n    const eliminarTarea = async (id,proyecto) => {\r\n        try {\r\n            await clienteAxios.delete(`/api/tareas/${id}`,{params:{proyecto}});\r\n            dispatch({\r\n                type: ELIMINAR_TAREA,\r\n                payload: id\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n     //edita o modifica una tarea\r\n    const actualizarTarea = async tarea => {\r\n        \r\n        try {\r\n            const resultado = await clienteAxios.put(`/api/tareas/${tarea._id}`,tarea);\r\n            \r\n            dispatch({\r\n                type: ACTUALIZAR_TAREA,\r\n                payload: resultado.data.tarea\r\n        }) \r\n        } catch (error) {\r\n            console.log(error);\r\n        }  \r\n}\r\n    // extrae la tarea para edicion\r\n    const guardarTareaActual = tarea => {\r\n        dispatch({\r\n            type: TAREA_ACTUAL,\r\n            payload: tarea\r\n        })\r\n    }\r\n\r\n  \r\n    //elimina la tarea seleccionada\r\n    const limpiarTarea = () => {\r\n        dispatch({\r\n            type: LIMPIAR_TAREA\r\n        })\r\n    }\r\n    return(\r\n        <TareaContext.Provider\r\n            value={{\r\n              //  tareas: state.tareas,\r\n                tareasproyecto : state.tareasproyecto,\r\n                errortarea: state.errortarea,\r\n                tareaseleccionada: state.tareaseleccionada,\r\n                obtenerTareas,\r\n                agregarTarea,\r\n                validarTarea,\r\n                eliminarTarea,\r\n                guardarTareaActual,\r\n                actualizarTarea,\r\n                limpiarTarea\r\n            }}\r\n        >\r\n            {props.children}\r\n        </TareaContext.Provider>\r\n    )\r\n}\r\n\r\nexport default TareaState;\r\n\r\n"]},"metadata":{},"sourceType":"module"}