{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\WebManangerClient\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\WebManangerClient\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\WebManangerClient\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autenticacion/authContext';var Login=function Login(props){// extraer los valores del context \nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,iniciarSesion=authContext.iniciarSesion;//en caso que el password o el usuario no exista\nuseEffect(function(){if(autenticado){props.history.push('/proyecto');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);//state para iniciar sesion\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];var email=usuario.email,password=usuario.password;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//cuando el usuario quiere iniciar sesion\nvar onSubmit=function onSubmit(e){e.preventDefault();//validar que no haya campos vacios\nif(email.trim()===''||password.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');}//Pasarlo al action\niniciarSesion({email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},alerta.msg,\" \"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Iniciar Sesi\\xF3n\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Iniciar Sesi\\xF3n\"}))),/*#__PURE__*/React.createElement(Link,{to:'nueva-cuenta',className:\"enlace-cuenta\"},\"Obtener Cuenta\")));};export default Login;","map":{"version":3,"sources":["C:/Users/Asus/Documents/GitHub/IntercomBL/WebManangerServer/cliente/WebManangerClient/src/components/auth/Login.js"],"names":["React","useContext","useState","useEffect","Link","AlertaContext","AuthContext","Login","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","iniciarSesion","history","push","msg","categoria","email","password","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA0BC,QAA1B,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,yCAAxB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACpB;AACA,GAAMC,CAAAA,aAAa,CAAGR,UAAU,CAACI,aAAD,CAAhC,CAFoB,GAGbK,CAAAA,MAHa,CAGYD,aAHZ,CAGbC,MAHa,CAGLC,aAHK,CAGYF,aAHZ,CAGLE,aAHK,CAKpB,GAAMC,CAAAA,WAAW,CAAGX,UAAU,CAACK,WAAD,CAA9B,CALoB,GAMbO,CAAAA,OANa,CAM0BD,WAN1B,CAMbC,OANa,CAMJC,WANI,CAM0BF,WAN1B,CAMJE,WANI,CAMSC,aANT,CAM0BH,WAN1B,CAMSG,aANT,CAOrB;AACCZ,SAAS,CAAC,UAAK,CACZ,GAAGW,WAAH,CAAe,CACXN,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,WAAnB,EACH,CACD,GAAGJ,OAAH,CAAW,CACPF,aAAa,CAACE,OAAO,CAACK,GAAT,CAAaL,OAAO,CAACM,SAArB,CAAb,CACH,CACD;AACH,CARS,CAQP,CAACN,OAAD,CAAUC,WAAV,CAAsBN,KAAK,CAACQ,OAA5B,CARO,CAAT,CASD;AAjBqB,cAkBad,QAAQ,CAAC,CACvCkB,KAAK,CAAC,EADiC,CAEvCC,QAAQ,CAAC,EAF8B,CAAD,CAlBrB,wCAkBdC,OAlBc,eAkBLC,cAlBK,kBAuBbH,CAAAA,KAvBa,CAuBOE,OAvBP,CAuBbF,KAvBa,CAuBNC,QAvBM,CAuBOC,OAvBP,CAuBND,QAvBM,CAwBrB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,CAAI,CAClBF,cAAc,gCACPD,OADO,wBAETG,CAAC,CAACC,MAAF,CAASC,IAFA,CAEQF,CAAC,CAACC,MAAF,CAASE,KAFjB,GAAd,CAKH,CAND,CAQA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,CAAC,CAAI,CAClBA,CAAC,CAACK,cAAF,GAEA;AAEA,GAAGV,KAAK,CAACW,IAAN,KAAiB,EAAjB,EAAuBV,QAAQ,CAACU,IAAT,KAAoB,EAA9C,CAAiD,CAC7CpB,aAAa,CAAC,mCAAD,CAAqC,cAArC,CAAb,CACH,CACD;AACAI,aAAa,CAAC,CAACK,KAAK,CAALA,KAAD,CAAOC,QAAQ,CAARA,QAAP,CAAD,CAAb,CAEH,CAXD,CAYA,mBAEO,2BAAK,SAAS,CAAC,cAAf,EACKX,MAAM,cAAI,2BAAK,SAAS,kBAAYA,MAAM,CAACS,SAAnB,CAAd,EAA+CT,MAAM,CAACQ,GAAtD,KAAJ,CAAyE,IADpF,cAEI,2BAAK,SAAS,CAAE,6BAAhB,eACI,kDADJ,cAEI,4BACK,QAAQ,CAAEW,QADf,eAGI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,UADJ,cAEI,6BACK,IAAI,CAAC,OADV,CAEK,EAAE,CAAC,OAFR,CAGK,IAAI,CAAC,OAHV,CAIK,WAAW,CAAC,UAJjB,CAKK,KAAK,CAAET,KALZ,CAMK,QAAQ,CAAEI,QANf,EAFJ,CAHJ,cAcI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,aADJ,cAEI,6BACK,IAAI,CAAC,UADV,CAEK,EAAE,CAAC,UAFR,CAGK,IAAI,CAAC,UAHV,CAIK,WAAW,CAAC,aAJjB,CAKK,KAAK,CAAEH,QALZ,CAMK,QAAQ,CAAEG,QANf,EAFJ,CAdJ,cAyBI,2BAAK,SAAS,CAAE,YAAhB,eACI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,4BAA/B,CACA,KAAK,CAAC,mBADN,EADJ,CAzBJ,CAFJ,cAiCI,oBAAC,IAAD,EAAM,EAAE,CAAE,cAAV,CAA0B,SAAS,CAAC,eAApC,mBAjCJ,CAFJ,CAFP,CA4CH,CAzFD,CA6FA,cAAejB,CAAAA,KAAf","sourcesContent":["import React, {useContext,useState,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport AuthContext from '../../context/autenticacion/authContext';\r\n\r\nconst Login = (props) => {\r\n     // extraer los valores del context \r\n     const alertaContext = useContext(AlertaContext);\r\n     const {alerta, mostrarAlerta} = alertaContext;\r\n \r\n     const authContext = useContext(AuthContext);\r\n     const {mensaje, autenticado, iniciarSesion} = authContext;\r\n    //en caso que el password o el usuario no exista\r\n     useEffect(() =>{\r\n        if(autenticado){\r\n            props.history.push('/proyecto')\r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta(mensaje.msg,mensaje.categoria);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [mensaje, autenticado,props.history ]);\r\n    //state para iniciar sesion\r\n    const [usuario, guardarUsuario] = useState({\r\n        email:'',\r\n        password:''\r\n    });\r\n\r\n    const { email, password } = usuario;\r\n    const onChange = e => {\r\n        guardarUsuario({\r\n            ...usuario,\r\n            [e.target.name] : e.target.value\r\n        })\r\n\r\n    }\r\n\r\n    //cuando el usuario quiere iniciar sesion\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        //validar que no haya campos vacios\r\n\r\n        if(email.trim() === '' || password.trim() === ''){\r\n            mostrarAlerta('Todos los campos son obligatorios','alerta-error');\r\n        }\r\n        //Pasarlo al action\r\n        iniciarSesion({email,password});\r\n\r\n    }\r\n    return (  \r\n\r\n           <div className=\"form-usuario\">\r\n               {alerta ? (<div className={`alerta ${alerta.categoria}`}>{alerta.msg} </div>) : null}\r\n               <div className =\"contenedor-form sombra-dark\">\r\n                   <h1>Iniciar Sesión</h1>\r\n                   <form\r\n                        onSubmit={onSubmit}\r\n                   >\r\n                       <div className=\"campo-form\">\r\n                           <label htmlFor=\"email\">Email</label>\r\n                           <input \r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                placeholder=\"Tu Email\"\r\n                                value={email}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className=\"campo-form\">\r\n                           <label htmlFor=\"email\">Password</label>\r\n                           <input \r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Tu Password\"\r\n                                value={password}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className =\"campo-form\">\r\n                           <input type=\"submit\" className=\"btn btn-primario btn-block\"\r\n                           value=\"Iniciar Sesión\" />\r\n                       </div>\r\n                   </form>\r\n\r\n                   <Link to={'nueva-cuenta'} className=\"enlace-cuenta\">\r\n                       Obtener Cuenta\r\n                   </Link>\r\n               </div>\r\n\r\n           </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}