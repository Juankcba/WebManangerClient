{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\IntercomBL\\\\WebManangerServer\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autenticacion/authContext';var NuevaCuenta=function NuevaCuenta(props){// extraer los valores del context \nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,registrarUsuario=authContext.registrarUsuario;//en caso que haya un registro duplicado\nuseEffect(function(){if(autenticado){props.history.push('/proyecto');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);//state para iniciar sesion\nvar _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];var nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//cuando el usuario quiere iniciar sesion\nvar onSubmit=function onSubmit(e){e.preventDefault();//validar que no haya campos vacios\nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){mostrarAlerta('Todos los Campos son obligarios','alerta-error');return;}//password minimo\nif(password.length<6){mostrarAlerta('El password debe ser de al menos 6 caracteres','alerta-error');return;}//los 2 password sean iguales\nif(password!==confirmar){mostrarAlerta('Los passwords no son iguales','alerta-error');return;}//Pasarlo al action\nregistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},alerta.msg,\" \"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Obtener una cuenta\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nombre\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Tu nombre\",value:nombre,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Confirmar Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"confirmar\",placeholder:\"Repite tu Password\",value:confirmar,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrarme\"}))),/*#__PURE__*/React.createElement(Link,{to:'Login',className:\"enlace-cuenta\"},\"Volver a Iniciar Sesion\")));};export default NuevaCuenta;","map":{"version":3,"sources":["C:/Users/Asus/Documents/GitHub/IntercomBL/WebManangerServer/cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","msg","categoria","nombre","email","password","confirmar","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, {useState,useContext,useEffect}  from 'react';\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport AuthContext from '../../context/autenticacion/authContext';\r\n\r\n\r\n\r\nconst NuevaCuenta = (props) => {\r\n\r\n    // extraer los valores del context \r\n    const alertaContext = useContext(AlertaContext);\r\n    const {alerta, mostrarAlerta} = alertaContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const {mensaje, autenticado, registrarUsuario} = authContext;\r\n\r\n    //en caso que haya un registro duplicado\r\n    useEffect(() =>{\r\n        if(autenticado){\r\n            props.history.push('/proyecto')\r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta(mensaje.msg,mensaje.categoria);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [mensaje, autenticado,props.history ]);\r\n    //state para iniciar sesion\r\n    const [usuario, guardarUsuario] = useState({\r\n        nombre:'',\r\n        email:'',\r\n        password:'',\r\n        confirmar:''\r\n    });\r\n\r\n    const {nombre, email, password, confirmar } = usuario;\r\n    const onChange = e => {\r\n        guardarUsuario({\r\n            ...usuario,\r\n            [e.target.name] : e.target.value\r\n        })\r\n\r\n    }\r\n\r\n    //cuando el usuario quiere iniciar sesion\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        //validar que no haya campos vacios\r\n        if(nombre.trim() === '' || email.trim() === '' ||\r\n        password.trim() === '' || confirmar.trim() === '' ){\r\n            mostrarAlerta('Todos los Campos son obligarios','alerta-error');\r\n            return;\r\n        }\r\n        //password minimo\r\n        if(password.length < 6){\r\n            mostrarAlerta('El password debe ser de al menos 6 caracteres','alerta-error');\r\n            return;\r\n        }\r\n        //los 2 password sean iguales\r\n        if(password !== confirmar){\r\n            mostrarAlerta('Los passwords no son iguales','alerta-error');\r\n            return;\r\n\r\n        }\r\n\r\n        //Pasarlo al action\r\n        registrarUsuario({nombre,email,password});\r\n\r\n    }\r\n    return (  \r\n\r\n           <div className=\"form-usuario\">\r\n               {alerta ? (<div className={`alerta ${alerta.categoria}`}>{alerta.msg} </div>) : null}\r\n               <div className =\"contenedor-form sombra-dark\">\r\n                   <h1>Obtener una cuenta</h1>\r\n                   <form\r\n                        onSubmit={onSubmit}\r\n                   ><div className=\"campo-form\">\r\n                           <label htmlFor=\"nombre\">Nombre</label>\r\n                           <input \r\n                                type=\"text\"\r\n                                id=\"nombre\"\r\n                                name=\"nombre\"\r\n                                placeholder=\"Tu nombre\"\r\n                                value={nombre}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className=\"campo-form\">\r\n                           <label htmlFor=\"email\">Email</label>\r\n                           <input \r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                placeholder=\"Tu Email\"\r\n                                value={email}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className=\"campo-form\">\r\n                           <label htmlFor=\"email\">Password</label>\r\n                           <input \r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Tu Password\"\r\n                                value={password}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className=\"campo-form\">\r\n                           <label htmlFor=\"email\">Confirmar Password</label>\r\n                           <input \r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"confirmar\"\r\n                                placeholder=\"Repite tu Password\"\r\n                                value={confirmar}\r\n                                onChange={onChange}\r\n                            />\r\n                       </div>\r\n                       <div className =\"campo-form\">\r\n                           <input type=\"submit\" className=\"btn btn-primario btn-block\"\r\n                           value=\"Registrarme\" />\r\n                       </div>\r\n                   </form>\r\n\r\n                   <Link to={'Login'} className=\"enlace-cuenta\">\r\n                       Volver a Iniciar Sesion\r\n                   </Link>\r\n               </div>\r\n\r\n           </div>\r\n    );\r\n}\r\n\r\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}